<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>The Pot Game</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <link rel="stylesheet" href="../css/styles.css">

</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">The Pot</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="rules.html">The Rules</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </nav>

    <div class="container">

        <div class="starter-template">
            <!--<h1>The Pot</h1>-->
            <!--/.Insert current GameName -->
            <p class="lead" id="GameName">Now describe!</p>
            <br>
            <!--/.Insert current member turn -->
            <p class="lead" id="member-turn-display"></p>
            <!--/.Insert current word -->
            <h1 id="WordGenerator">Ready?</h1>
            <br>
            <br>
            <p class="lead">Timer:</p>
            <p class="lead" id="time">0.0</p>
            <input type="button" value="Start/Stop [S]" class="btn btn-lg btn-success" id="startStopButton">
            <input type="button" value="Reset [R]" class="btn btn-lg btn-default" id="resetButton">
            <!--/.Next button: changes currentWord -->
            <input type="button" name="name" value="Next [Enter]" class="btn btn-lg btn-default" id="nextWordButton">
        </div>

    </div>
    <!-- /.container -->

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!--<script type="text/javascript" src="../js/pot.js"></script>-->
<script type="text/javascript" src="../js/group.js"></script>
<script type="text/javascript" src="../js/groupSet.js"></script>
<script type="text/javascript" src="../js/words.js"></script>
<script type="text/javascript" src="../js/storage.js"></script>


<script type="text/javascript">
    // variable definition
    var currentMember = parseInt(localStorage.getItem('currentMember'));
    var currentGroup = parseInt(localStorage.getItem('currentGroup'));
    var groups = JSON.parse(localStorage.getItem('groupsArray'));
    var words = loadWords();

    // next group/member logic
    currentGroup = (currentGroup + 1) % groups.length;
    if (currentGroup == 0) {
        for (var i = 0; i < groups.length; ++i) {
            groups[i].memberTurn = (groups[i].memberTurn + 1) % groups[i].numberMembers;
        }
    }
    currentMember = groups[currentGroup].memberTurn;

    $('#member-turn-display')
        .append('Turn: ' + groups[currentGroup].groupName + ', ' + groups[currentGroup].members[currentMember]);

    $(function() {
        $('#startStopButton').on('click', function() {
            // variable storage
            localStorage.setItem('currentMember', currentMember);
            localStorage.setItem('currentGroup', currentGroup);
            groups = JSON.stringify(groups);
            localStorage.setItem('groupsArray', groups);
            words = JSON.stringify(words);
            localStorage.setItem('words', words);
            window.location = "index.html";
        });
        $('#resetButton').on('click', function() {
            // Does nothing
        });
        $('#nextWordButton').on('click', function() {
            // Does nothing
        });
    });
</script>

</html>
